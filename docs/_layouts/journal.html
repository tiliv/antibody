---
layout: root
comment: The page should supply `title` and `date`
---

{%- comment -%} Contact with explicit md treatment from template {%- endcomment -%}
{%- capture contact_template -%}
contact/{{ page.author | slugify }}.md
{%- endcapture -%}
{%- capture contact_md -%}
{%- include {{ contact_template }} subject=page.contact_subject mailto=page.contact_email -%}
{%- endcapture -%}
{%- capture contact_html -%}
{{- contact_md | markdownify -}}
{%- endcapture -%}

{%- assign blame = page.path | replace: "/", "" | replace: ".md", "" -%}
<script id="blame" type="application/json">{{ site.data.git.blame[blame] | jsonify }}</script>

<h2 class="journal-font" aria-describe="Headline:">{{ page.title }}</h2>
<div id="by-line">
  {% assign words = page.content | number_of_words %}
  {% assign minutes = words | divided_by:200 | ceil %}
  <div class="size">
    <strong>{{ words }}w</strong> ;
    <em>{{ minutes }}m</em>
  </div>
  <code class="date">
    <time datetime="{{ page.date | date_to_xmlschema }}">{{ page.date | date: "%G-W%V: %B %-d" }}</time>
  </code>
  {%- comment -%} <span>{{ page.date | date: "%B %-d, %Y" }}</span> {%- endcomment -%}
  <div class="tags">
    {%- for tag in page.tags -%}
      <span>{{ tag }}</span>
    {%- endfor -%}
  </div>
</div>
<div id="layout">
  <article class="content">
    {%- if page.contact_top -%}
      {{ contact_html }}
    {%- endif -%}
    {{ content }}
    <hr />
    {{ contact_html }}
  </article>
</div>

<div
  id="quote-tip"
  class="tooltip"
  role="status"
  aria-live="polite"></div>
<div
  class="visually-hidden"
  aria-live="polite"
  aria-atomic="true"
  id="quote-live"></div>
